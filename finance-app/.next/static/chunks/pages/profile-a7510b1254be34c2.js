(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{6896:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return t(5429)}])},9313:function(e,s,t){"use strict";var n=t(5893),r=t(7294);s.Z=()=>{let[e,s]=(0,r.useState)([]),t=async()=>{let e=await fetch("/api/loans");s(await e.json())};return(0,r.useEffect)(()=>{t()},[]),(0,n.jsxs)("div",{className:"mt-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Loans"}),(0,n.jsxs)("table",{className:"min-w-full border",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"bg-gray-100",children:[(0,n.jsx)("th",{className:"p-2 border",children:"Type"}),(0,n.jsx)("th",{className:"p-2 border",children:"Principal"}),(0,n.jsx)("th",{className:"p-2 border",children:"Interest (%)"}),(0,n.jsx)("th",{className:"p-2 border",children:"Date"}),(0,n.jsx)("th",{className:"p-2 border",children:"Months Left"}),(0,n.jsx)("th",{className:"p-2 border",children:"Gold (g)"})]})}),(0,n.jsx)("tbody",{children:e.map(e=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"p-2 border text-center",children:e.type}),(0,n.jsx)("td",{className:"p-2 border text-right",children:e.principal.toFixed(2)}),(0,n.jsx)("td",{className:"p-2 border text-right",children:e.interestRate.toFixed(2)}),(0,n.jsx)("td",{className:"p-2 border text-center",children:new Date(e.date).toLocaleDateString()}),(0,n.jsx)("td",{className:"p-2 border text-center",children:e.monthsRemaining}),(0,n.jsx)("td",{className:"p-2 border text-right",children:e.goldQuantity.toFixed(2)})]},e._id))})]})]})}},5429:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var n=t(5893),r=t(9008),a=t.n(r),i=t(7294),c=()=>{let[e,s]=(0,i.useState)([]),t=async()=>{let e=await fetch("/api/loans");s(await e.json())};(0,i.useEffect)(()=>{t()},[]);let r=e.filter(e=>"taken"===e.type).reduce((e,s)=>e+s.principal*s.interestRate*s.monthsRemaining/1200,0),a=e.filter(e=>"given"===e.type).reduce((e,s)=>e+s.principal*s.interestRate*s.monthsRemaining/1200,0),c=a-r;return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold",children:"Profile Summary"}),(0,n.jsxs)("div",{className:"border p-4 rounded",children:[(0,n.jsxs)("p",{children:["Expenses (Loans Taken Interest): ",(0,n.jsxs)("strong",{className:"text-red-600",children:["₹ ",r.toFixed(2)]})]}),(0,n.jsxs)("p",{children:["Income (Loans Given Interest): ",(0,n.jsxs)("strong",{className:"text-green-600",children:["₹ ",a.toFixed(2)]})]}),(0,n.jsxs)("p",{children:["Total P&L: ",(0,n.jsxs)("strong",{children:[c>=0?"Profit":"Loss"," ₹ ",c.toFixed(2)]})]})]})]})},l=t(9313);function d(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a(),{children:(0,n.jsx)("title",{children:"Profile - Finance Manager"})}),(0,n.jsxs)("main",{className:"container mx-auto p-8 space-y-8",children:[(0,n.jsx)(c,{}),(0,n.jsx)(l.Z,{})]})]})}},9008:function(e,s,t){e.exports=t(7828)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=6896)}),_N_E=e.O()}]);