(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(6351)}])},9313:function(e,t,a){"use strict";var s=a(5893),n=a(7294);t.Z=()=>{let[e,t]=(0,n.useState)([]),a=async()=>{let e=await fetch("/api/loans");t(await e.json())};return(0,n.useEffect)(()=>{a()},[]),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Loans"}),(0,s.jsxs)("table",{className:"min-w-full border",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-100",children:[(0,s.jsx)("th",{className:"p-2 border",children:"Type"}),(0,s.jsx)("th",{className:"p-2 border",children:"Principal"}),(0,s.jsx)("th",{className:"p-2 border",children:"Interest (%)"}),(0,s.jsx)("th",{className:"p-2 border",children:"Date"}),(0,s.jsx)("th",{className:"p-2 border",children:"Months Left"}),(0,s.jsx)("th",{className:"p-2 border",children:"Gold (g)"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"p-2 border text-center",children:e.type}),(0,s.jsx)("td",{className:"p-2 border text-right",children:e.principal.toFixed(2)}),(0,s.jsx)("td",{className:"p-2 border text-right",children:e.interestRate.toFixed(2)}),(0,s.jsx)("td",{className:"p-2 border text-center",children:new Date(e.date).toLocaleDateString()}),(0,s.jsx)("td",{className:"p-2 border text-center",children:e.monthsRemaining}),(0,s.jsx)("td",{className:"p-2 border text-right",children:e.goldQuantity.toFixed(2)})]},e._id))})]})]})}},6351:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var s=a(5893),n=a(9008),r=a.n(n),l=a(7294),i=e=>{let{onCreated:t}=e,[a,n]=(0,l.useState)("taken"),[r,i]=(0,l.useState)(0),[d,c]=(0,l.useState)(0),[o,h]=(0,l.useState)(""),[u,x]=(0,l.useState)(0),[p,m]=(0,l.useState)(0),[j,b]=(0,l.useState)(!1),N=async e=>{e.preventDefault(),b(!0);try{await fetch("/api/loans",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:a,principal:r,interestRate:d,date:new Date(o),monthsRemaining:u,goldQuantity:p})}),i(0),c(0),h(""),x(0),m(0),t&&t()}finally{b(!1)}};return(0,s.jsxs)("form",{onSubmit:N,className:"space-y-2 border p-4 rounded",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mr-2",children:"Type:"}),(0,s.jsxs)("select",{value:a,onChange:e=>n(e.target.value),children:[(0,s.jsx)("option",{value:"taken",children:"Loan Taken"}),(0,s.jsx)("option",{value:"given",children:"Loan Given"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mr-2",children:"Principal:"}),(0,s.jsx)("input",{type:"number",value:r,onChange:e=>i(parseFloat(e.target.value)),step:"0.01",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mr-2",children:"Interest Rate (%/yr):"}),(0,s.jsx)("input",{type:"number",value:d,onChange:e=>c(parseFloat(e.target.value)),step:"0.01",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mr-2",children:"Date:"}),(0,s.jsx)("input",{type:"date",value:o,onChange:e=>h(e.target.value),required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mr-2",children:"Months Remaining:"}),(0,s.jsx)("input",{type:"number",value:u,onChange:e=>x(parseInt(e.target.value,10)),required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mr-2",children:"Gold Quantity (g):"}),(0,s.jsx)("input",{type:"number",value:p,onChange:e=>m(parseFloat(e.target.value)),step:"0.01",required:!0})]}),(0,s.jsx)("button",{type:"submit",disabled:j,className:"bg-blue-600 text-white px-4 py-1 rounded",children:j?"Saving...":"Add Loan"})]})},d=a(9313);function c(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r(),{children:(0,s.jsx)("title",{children:"Finance Manager"})}),(0,s.jsxs)("main",{className:"container mx-auto p-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Finance Manager"}),(0,s.jsx)(i,{onCreated:()=>{window.location.reload()}}),(0,s.jsx)(d.Z,{})]})]})}},9008:function(e,t,a){e.exports=a(7828)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);